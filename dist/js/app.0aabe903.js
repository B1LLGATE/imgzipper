(function(t){function e(e){for(var i,o,l=e[0],s=e[1],c=e[2],p=0,d=[];p<l.length;p++)o=l[p],a[o]&&d.push(a[o][0]),a[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("demo",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{attrs:{id:"paramter"}},[t._m(0),n("div"),n("input",{staticStyle:{display:"none"},attrs:{id:"input",type:"file",accept:"image/*"},on:{change:function(e){return t.change(e)}}}),n("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center",height:"200px",width:"250px"}},[n("div",{staticClass:"ycenter",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticStyle:{width:"130px","text-align":"right","font-size":"20px",height:"30px","line-height":"30px","font-weight":"bolder","margin-right":"10px"}},[t._v("缩放/scale")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.scale,expression:"scale"}],staticStyle:{width:"70px",border:"#303133 2px solid",height:"25px",padding:"5px"},attrs:{type:"number",max:"1",min:"0",step:"0.01"},domProps:{value:t.scale},on:{input:function(e){e.target.composing||(t.scale=e.target.value)}}})]),n("div",{staticClass:"ycenter",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticStyle:{width:"130px","text-align":"right","font-size":"20px",height:"30px","line-height":"30px","font-weight":"bolder","margin-right":"10px"}},[t._v("质量/quality")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.quality,expression:"quality"}],staticStyle:{width:"70px",border:"#303133 2px solid",height:"25px",padding:"5px"},attrs:{type:"number",max:"1",min:"0",step:"0.01"},domProps:{value:t.quality},on:{input:function(e){e.target.composing||(t.quality=e.target.value)}}})]),n("div",{staticClass:"ycenter"},[n("div",{staticClass:"ycenter mybutton",staticStyle:{"margin-right":"20px"},on:{click:function(e){return t.change()}}},[t._v("\n\t\t\t\t\t应用/apply\n\t\t\t\t")]),n("div",{staticClass:"ycenter mybutton",on:{click:function(e){return t.reset()}}},[t._v("\n\t\t\t\t\t重置/reset\n\t\t\t\t")])])])]),n("div",[t.mysrc?n("img",{staticClass:"img",attrs:{src:t.mysrc,width:"400px"}}):t._e()]),n("div",[n("img",{attrs:{src:t.url}})])])},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"input"}},[i("div",[i("img",{attrs:{src:n("8a37")}})])])}],s=n("59ad"),c=n.n(s),u=function(t){var e=new DataView(t),n=2,i=!1;if(t.length<2||65496!==e.getUint16(0))return!1;var a=e.byteLength;while(n<a-2){var r=e.getUint16(n);if(65505==r){a=e.getUint16(n+=2)-2;var o=18761==e.getUint16(n+=8);n+=10;while(n<a){var l=e.getUint16(n,o);if(274==l)return i=e.getUint16(n+8,o),i;n+=12}}n+=2}return i},p=function(t,e,n,i,a,r,o){var l=new Image;l.onload=function(){var t=document.createElement("canvas"),s=t.getContext("2d"),c=this.width*e,u=this.height*e,p=[];p[6]={width:u,height:c,angel:Math.PI/2},p[8]={width:u,height:c,angel:-Math.PI/2},p[3]={width:c,height:u,angel:Math.PI},p[1]={width:c,height:u,angel:0};var d=o||1;t.width=p[d].width,t.height=p[d].height,s.translate(p[d].width/2,p[d].height/2),s.rotate(p[d].angel),s.drawImage(l,-c/2,-u/2,c,u);try{t.toBlob(function(t){a&&a(t,URL.createObjectURL(t))},i,n)}catch(f){r?r(t):console.log("The current system does not support 'canvas.toBlob',please try to set the paramter 'disableBlob'")}},l.src=t},d=function(t,e,n){if(t){var i=n&&n.scale?c()(n.scale):.9,a=n&&n.quality?c()(n.quality):.82,r=n&&n.disableBlob?n.disableBlob:null,o=n&&n.type?n.type:"image/jpeg",l=!n||!n.exif||n.exif,s=new FileReader,d=new FileReader;l?(d.readAsArrayBuffer(t),d.onload=function(n){var l=u(n.target.result);s.readAsDataURL(t),s.onload=function(t){p(t.target.result,i,a,o,e,r,l)}}):(s.readAsDataURL(t),s.onload=function(t){p(t.target.result,i,a,o,e,r)})}},f=d,h={name:"demo",props:{msg:String},data:function(){return{file:"",mysrc:"",url:"",scale:.9,quality:.82}},methods:{change:function(t){var e=document.querySelector("#input").files[0];this.test=f(e,this.callback,{scale:this.scale,quality:this.quality},this.test)},callback:function(t,e){console.log(t),this.mysrc=e},reset:function(){this.scale=.9,this.quality=.82}},mounted:function(){}},g=h,m=(n("f474"),n("2877")),v=Object(m["a"])(g,o,l,!1,null,"40188fef",null),y=v.exports,b={name:"app",components:{demo:y}},x=b,w=(n("034f"),Object(m["a"])(x,a,r,!1,null,null,null)),_=w.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(_)}}).$mount("#app")},"64a9":function(t,e,n){},"8a37":function(t,e,n){t.exports=n.p+"img/plus.7bf19bbb.svg"},"9fca":function(t,e,n){},f474:function(t,e,n){"use strict";var i=n("9fca"),a=n.n(i);a.a}});
//# sourceMappingURL=app.0aabe903.js.map